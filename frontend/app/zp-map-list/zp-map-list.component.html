<div class="row row-0">
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-sm">
        <pnx-map height="95vh" [center]="[44.982667966765845, 6.062455200884894]" [zoom]="12">
            <pnx-geojson [onEachFeature]="onEachFeature.bind(this)" [geojson]="zps">
            </pnx-geojson>
        </pnx-map>
    </div>





    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 padding-sm tab-container ">
        <h3> Zones de prospection</h3>


        <div id="blocSearch" class="row row-0 ">
            <div class="searchZP">
                <small> Rechercher selon taxon </small>
                <pnx-taxonomy #taxon label="{{ 'Taxon.Taxon' | translate }}" [parentFormControl]="taxonForm" [idList]="500" [charNumber]="3"
                    [listLength]="20" (onChange)="onTaxonChanged($event);" (onDelete)="onDeleteTaxon()">
                </pnx-taxonomy>
                <!-- <input [ngModel]="searchTaxon" (ngModelChange)="onSearchTaxon($event)" class="inputSearch"> -->
            </div>


            <div class="searchZP">
                <small> Rechercher selon l'année </small>
                <input type="number" [formControl]="yearForm" class="inputSearch" (onDeleteDate)="onDateDelete()">
            </div>

            <div class="searchZP">
                <small> Rechercher selon l'organisme </small>
                <select class="form-control form-control-sm" name="monSelect" [ngModel]="searchOrga" (ngModelChange)="onSearchOrganisme($event)">
                    <option [ngValue]="null" selected> -- Sélectionnez un filtre -- </option>
                    <option *ngFor="let label of tabOrganism"> {{label}} </option>
                    <!--pkoi quand je mets [ngValue]="label" ça marche pas?   -->
                    <option> test 1 </option>
                    <option> test 2 </option>

                </select>

            </div>

        </div>


        <ngx-datatable #table class="material" [rows]="filteredData" [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'"
            [columnMode]="'force'" [selected]="mapListService.selectedRow" [selectionType]="'single'" (select)="mapListService.onRowSelect($event)"
            [rowClass]="mapListService.getRowClass" [offset]="mapListService.page.pageNumber" [limit]="mapListService.page.size"
            [messages]="storeService.sftConfig.zp_message">

            <ngx-datatable-column *ngFor="let col of storeService.sftConfig.default_zp_columns" [name]="col.name" [prop]="col.prop" [maxWidth]="col.width">


            </ngx-datatable-column>


            <ngx-datatable-column maxWidth="90">
                <ng-template let-row="row" ngx-datatable-cell-template>
                    <button type="button" class="btn btn-info fa fa-eye" (click)="onInfo(row.id_base_site)" title="Visualiser">
                    </button>
                </ng-template>
            </ngx-datatable-column>


        </ngx-datatable>

        <div id="end-btn">

            <pnx-modal-download [pathDownload]='storeService.urlLoad' [exportFormat]='storeService.sftConfig.export_available_format'
                labelButton='Télécharger toutes les visites'>
            </pnx-modal-download>

        </div>



    </div>

</div>